@use '@angular/material' as mat;

/* Required for Angular Material */
@include mat.core();

/* =================================================
   DASHBOARD COLOR SYSTEM
================================================= */
:root {
  /* Brand */
  --primary: #1976d2;
  /* Blue */
  --primary-contrast: #ffffff;

  --secondary: #26a69a;
  /* Teal */
  --secondary-contrast: #ffffff;

  /* Layout */
  --background: #f4f6f8;
  /* Page background */
  --surface: #ffffff;
  /* Cards / panels */
  --sidebar: #1e293b;
  /* Sidebar dark */
  --sidebar-text: #e5e7eb;

  /* Text */
  --text-primary: #1f2937;
  --text-secondary: #6b7280;

  /* Status */
  --success: #16a34a;
  --warning: #f59e0b;
  --error: #dc2626;

  /* Border / shadow */
  --border: #e5e7eb;
}

/* =================================================
   GLOBAL BASE
================================================= */
html,
body {
  height: 100%;
  margin: 0;
  font-family: Roboto, "Helvetica Neue", Arial, sans-serif;
  background-color: var(--background);
  color: var(--text-primary);
}

/* =================================================
   TOOLBAR (Top Bar)
================================================= */
.mat-toolbar {
  background-color: var(--primary) !important;
  color: var(--primary-contrast) !important;
}

/* =================================================
   SIDEBAR / NAV
================================================= */
.mat-sidenav {
  background-color: var(--sidebar) !important;
  color: var(--sidebar-text) !important;
}

.mat-sidenav a {
  color: var(--sidebar-text);
  text-decoration: none;
}

.mat-sidenav a.active {
  background: rgba(255, 255, 255, 0.1);
}

/* =================================================
   CARDS
================================================= */
.mat-mdc-card {
  background-color: var(--surface);
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

/* =================================================
   BUTTONS
================================================= */
.mat-mdc-raised-button.mat-primary {
  background-color: var(--primary);
  color: var(--primary-contrast);
}

.mat-mdc-raised-button.mat-accent {
  background-color: var(--secondary);
  color: var(--secondary-contrast);
}

/* =================================================
   STATUS COLORS (for badges / labels)
================================================= */
.status-success {
  color: var(--success);
}

.status-warning {
  color: var(--warning);
}

.status-error {
  color: var(--error);
}

/* =================================================
   SCROLLBAR (Dashboard style)
================================================= */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* =================================================
   DIALOG GLOBAL STYLES - No Scrollbars
================================================= */

/* Hide all scrollbars in dialogs */
.mat-mdc-dialog-container {
  .mdc-dialog__surface {
    overflow: hidden !important;
  }
}

.mat-mdc-dialog-content {
  overflow: visible !important;
  max-height: none !important;
}

/* Custom dialog panel classes */
.cdk-overlay-pane {

  &.video-upload-dialog,
  &.video-player-dialog,
  &.video-detail-dialog {
    .mat-mdc-dialog-container {
      border-radius: 16px;
      overflow: hidden;
    }
  }
}

/* Remove scrollbar globally but keep functionality where needed */
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

/* Dialog backdrop */
.cdk-overlay-dark-backdrop {
  background: rgba(15, 23, 42, 0.6);
  backdrop-filter: blur(4px);
}

// Add to src/styles.scss

/* =================================================
   DIALOG PANEL CLASSES
================================================= */

// Video Player Dialog - Responsive
.video-player-dialog-responsive {
  .mat-mdc-dialog-container {
    padding: 0 !important;
    border-radius: 12px !important;
    overflow: hidden !important;

    .mdc-dialog__surface {
      border-radius: 12px !important;
      overflow: hidden !important;
    }
  }
}

// Video Detail Dialog - Wide
.video-detail-dialog-panel {
  .mat-mdc-dialog-container {
    padding: 0 !important;
    border-radius: 16px !important;
    overflow: hidden !important;

    .mdc-dialog__surface {
      border-radius: 16px !important;
    }
  }

  .mat-mdc-dialog-content {
    max-height: calc(95vh - 180px) !important;
  }
}

// Upload Dialog
.upload-dialog-panel {
  .mat-mdc-dialog-container {
    padding: 0 !important;
    border-radius: 16px !important;
    overflow: hidden !important;

    .mdc-dialog__surface {
      border-radius: 16px !important;
    }
  }
}

// Dialog Backdrop - Blur effect
.cdk-overlay-dark-backdrop {
  background: rgba(15, 23, 42, 0.5) !important;
  backdrop-filter: blur(4px);
}

// Ensure dialogs don't overflow screen
.cdk-overlay-pane {
  max-width: 95vw !important;
  max-height: 95vh !important;
}

// Add to src/styles.scss

/* =================================================
   CUSTOM TOOLTIP STYLES
================================================= */
.custom-tooltip {
  font-size: 0.8rem !important;
  line-height: 1.4 !important;
  padding: 8px 12px !important;
  max-width: 220px !important;
  background: #e2e8f0 !important;
  border-radius: 6px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.matMenu {
  font-size: 0.8rem !important;
  line-height: 1.4 !important;
  padding: 8px 12px !important;
  max-width: 220px !important;
  background: #0c4999 !important;
  border-radius: 6px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* =================================================
   SWEETALERT2 CUSTOM STYLES
================================================= */
.swal2-popup {
  border-radius: 16px !important;
  padding: 24px !important;
}

.swal2-title {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  color: #1e293b !important;
}

.swal2-html-container {
  color: #475569 !important;
}

.swal2-confirm {
  border-radius: 8px !important;
  font-weight: 500 !important;
  padding: 10px 24px !important;
}

.swal2-cancel {
  border-radius: 8px !important;
  font-weight: 500 !important;
  padding: 10px 24px !important;
}

.swal2-icon {
  margin: 0 auto 16px !important;
}

.datepicker-above-dialog {
  z-index: 1100 !important;
}

.cdk-overlay-container {
  z-index: 1050 !important;
}

.mat-datepicker-content {
  z-index: 1051 !important;
}

.cdk-overlay-pane {
  z-index: 1051 !important;
}

// Ensure mat-dialog doesn't block
.mat-mdc-dialog-container {
  overflow: visible !important;
}

// Fix transparent overlays for Material components
.cdk-overlay-pane {
  // Ensure overlays have solid background
  background: white !important;
}

// Fix mat-select dropdown
.mat-mdc-select-panel {
  background: white !important;
}

// Fix datepicker calendar
.mat-datepicker-content {
  background: white !important;
  box-shadow: 0 2px 4px -1px rgba(0,0,0,.2), 
              0 4px 5px 0 rgba(0,0,0,.14), 
              0 1px 10px 0 rgba(0,0,0,.12) !important;
}

.mat-calendar {
  background: white !important;
}

// Fix dialog
.mat-mdc-dialog-container {
  background: white !important;
  
  .mdc-dialog__surface {
    background: white !important;
  }
}

// Fix select options panel
.mat-mdc-option {
  background: white !important;
  
  &:hover {
    background: #f5f5f5 !important;
  }
  
  &.mdc-list-item--selected {
    background: #e3f2fd !important;
  }
}

// Ensure overlay backdrop works
.cdk-overlay-dark-backdrop {
  background: rgba(0, 0, 0, 0.32);
}

// Fix any transparent panels
.mdc-menu-surface {
  background: white !important;
}


// ═══════════════════════════════════════════════════════════════
// FIX TRANSPARENT OVERLAYS FOR MATERIAL COMPONENTS
// ═══════════════════════════════════════════════════════════════

// Mat-Select dropdown panel
.mat-mdc-select-panel {
  background-color: white !important;
}

// Datepicker calendar
.mat-datepicker-content {
  background-color: white !important;
  box-shadow: 0 2px 4px -1px rgba(0,0,0,.2), 
              0 4px 5px 0 rgba(0,0,0,.14), 
              0 1px 10px 0 rgba(0,0,0,.12) !important;
}

.mat-calendar {
  background-color: white !important;
}

.mat-calendar-body-cell-content {
  background-color: transparent;
}

// Dialog surface
.mat-mdc-dialog-surface {
  background-color: white !important;
}

// Menu surface (select options)
.mdc-menu-surface {
  background-color: white !important;
}

// Option items
.mat-mdc-option {
  background-color: white !important;
  
  &:hover:not(.mdc-list-item--disabled) {
    background-color: #f5f5f5 !important;
  }
  
  &.mdc-list-item--selected:not(.mdc-list-item--disabled) {
    background-color: #e8f5e9 !important;
  }
}

// Autocomplete panel
.mat-mdc-autocomplete-panel {
  background-color: white !important;
}
// Style native datetime-local inputs
input[type="datetime-local"] {
  position: relative;
  
  // Make the calendar icon clickable area larger
  &::-webkit-calendar-picker-indicator {
    position: absolute;
    right: 0;
    top: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
  }
}

// Ensure mat-form-field works well with datetime-local
.mat-mdc-form-field {
  &.datetime-field {
    .mdc-text-field {
      overflow: visible;
    }
  }
}